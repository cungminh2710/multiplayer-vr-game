<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <title>Profile | VRGame</title>
    <!-- <base href="https://minhcung.me/lovr/"> -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js"></script>
    <script type="text/javascript" src="https://rawgit.com/gamestdio/colyseus.js/0.7.0/dist/colyseus.js"></script>

    <script src="content-loader.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">

    <link rel="stylesheet" href="webtheme.css">
</head>

<body onload="loadProfile()">

    <ul class="navlist">
        <div class="pull-left">
            <li class="navLogo">
                <a href="#" class="logo-brand">LoVR</a>
            </li>
            <li class="navitem">
                <a href="/profile.html" class="active">
                    <i class="fa fa-fw fa-lg fa-user-circle-o" aria-hidden="true"></i> Profile</a>
            </li>
            <li class="navitem">
                <a href="/game-rooms.html">
                    <i class="fa fa-fw fa-lg fa-gamepad" aria-hidden="true"></i> Game Room</a>
            </li>
        </div>

        <div class="pull-right">
            <li class="navitem">
                <a href="/api/logout">Logout
                    <i class="fa fa-fw fa-lg fa-sign-out" aria-hidden="true"></i>
                </a>
            </li>
        </div>
    </ul>

    <div class="container">
        <div class="panel panel-default">
            <div class="panel-body">
                <hr class="strip strip-primary">

                <div id="wel_panel"></div>

                <div class="alert alert-info alert-dismissable fade in">
                    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                    <strong>For new Players!</strong> If this is your first time, click
                    <a href="#" data-toggle="modal" data-target="#startModal" class="alert-link">here for a start guide.</a>
                </div>

                <hr class="strip strip-fluoro">
                <h1>Join or Start a Game </h1>
                <a href="/game-rooms.html" class="btn btn-default">
                    <i class="fa fa-lg fa-gamepad fa-fw" aria-hidden="true"></i>Join a Game</a>

                <hr>

                <h1>
                    <i class="fa fa-id-card fa-fw" aria-hidden="true" style="color: purple;"></i> Your Game Statistics</h1>
                <div id="stats_panel"></div>

                <hr>

                <h1>
                    <i class="fa fa-trophy fa-fw" aria-hidden="true" style="color:gold;"></i> Achievements</h1>
                <table class="table table-hover">
                    <tbody id="achievements_panel">
                    </tbody>
                </table>

            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="startModal" role="dialog">
            <div class="modal-dialog modal-lg">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h1 class="modal-title">Quick Start</h1>
                    </div>
                    <div class="modal-body">
                        <h2>Game Room</h2>
                        <p>The Game Rooms page is the first area where you'll go. There, you can create game rooms or join rooms
                            to go into games.</p>
                        <p>Each game must have an even number of players, with between 2 to 6 players inclusive. Once a room
                            has reached its maximum capacity, All players need to click "I'm Ready". Once everyone is ready,
                            a pop-up will tell you that the arena is ready.</p>
                        <h2>In the arena</h2>
                        <p>The players will be equally split between two teams, Red and Blue. Each player will be assigned a
                            character at random. Each player will also recieve two skills allocated randomly. The skills
                            will be decribed in the next section.</p>
                        <p>The aim of the game is to destroy the enemy's turret before they destroy yours. You enemy's turret
                            will be located on the other side of your starting area. If neither team destroys the other's
                            base within 8 minutes, then the game will end as a draw.</p>

                        <h2>Characters and Skills</h2>
                        <h3>Tank</h3>
                        <h4>Punch</h4>
                        Does not need a specific target, punch an enemy to affect their change their gaze direction. Variable success rate. Single-target damage.
                        <h4>Cage</h4>
                        <p>Requires a specific target. Stops your target from moving for a few seconds.
                        <h4>Rocket</h4>
                        <p>Fires a giant rocket!</p>
                        <h3>Assassin</h3>
                        <h4>Bullet</h4>
                        <p>Does not need a specific target. Fires a single bullet in your line of sight. Variable success rate. Deals 30HP of damage to your target.
                        <h4>Flash</h4>
                        <p>Transports yourself 4 metres ahead of your line of sight</p>
                        <h4>Lazer</h4>
                        <p>Does not need a specific target. Shoots a huge lazer along your line of sight. Variable success rate. Can damage multiple targets at once.</p>
                        <h3>Healer</h3>
                        <h4>Cure</h4>
                        <p>Heals a specific ally</p>
                        <h4>Fireball</h4>
                        <p>Emits a fireball along your line of sight. Heals allies by 50HP</p>
                        <h4>Wish</h4>
                        <p>Heals all allies</p>

                        <h2>Controls</h2>
                        <p>There are two options for controlling your player in game. Either with a typical keyboard and mouse setup, or with a VR headset plus controller. This game is designed for VR, so we recommend the latter option. Because of this, keyboard and mouse movement may not be as user-friendly.</p>
                        <h3>Movement</h3>
                        <h4>Gamepad (VR)</h4>
                        <p>The joystick moves your character, whilst your head movement will control the character's view of the map.</p>
                        <h4>Keyboard Mode</h4>
                        <p>W-A-D keys are used for moving forward, left and right respectively. You'll only need to tap a key once to start movement in the chosen direction. To stop moving, press either Q or E. Head movement is controlled by clicking and dragging the character's view.</p>
                        <h3>Using your skills</h3>
                        <h4>Gamepad (VR)</h4>
                        <p>Skills can be triggered using the ABC buttons on your controller.</p>
                        <h4>Keyboard Mode</h4>
                        <p>The U, H and J keys are used to activate your skills.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                    </div>
                </div>

            </div>
        </div>

        <script id="wel_template" type="x-tmpl-mustache">
            <h1>Welcome, {{ username }}</h1>
        </script>

        <script id="usr_note_template" type="x-tmpl-mustache">
            <li class="navitem"><p>{{ username }}</p></li>
        </script>

        <script id="stats_template" type="x-tmpl-mustache">
            <p>Games played: {{ numGamesPlayed }}</p>
            <p>Games won: {{ numWon }}</p>
            <p>Games tied: {{ numDrew }}</p>
            <p>Games lost: {{ numLost }}</p>
            <p>Total Kills: {{ numKills }}</p>
            <p>Total Deaths: {{ numDeath }}</p>
        </script>

        <script id="achievement_template" type="x-tmpl-mustache">
            {{ #achievements }}
            <tr>
                <td><i class="fa fa-lg fa-{{logoUrl}} fa-fw" aria-hidden="true"></i>{{ name }}</td>
                <td>{{description}}</td>
            </tr>
            {{/achievements}}

            {{^achievements}}
            <p>No achievements sucker!</p>
            {{/achievements}}
        </script>

    </div>


</body>

</html>